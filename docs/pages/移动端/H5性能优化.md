# H5性能优化思考

## 1.容器启动

### 1.1 容器预建(客户端)

### 1.2 页面保活(客户端)

## 2.资源加载

### 2.1 网络请求

#### 2.1.1 DNS

##### 2.1.1.1 DNS减少DNS解析（控制域名个数）

##### 2.1.1.2 DNS预解析

#### 2.1.2 Http

##### 2.1.2.1 使用Http2

##### 智能调度(客户端)

### 2.2 HTML加载

#### 2.2.1 内容优化

##### 2.2.1.1 开启压缩

##### 2.2.1.2 精简代码

##### 2.2.1.3 精简服务端渲染数据

#### 2.2.2 流程优化

##### 2.2.2.1 服务端渲染

##### 2.2.2.2 流式传输

##### 2.2.2.3 预渲染

### 2.3 静态资源加载

#### 2.3.1 内容优化

##### 2.3.1.1 开启压缩

##### 2.3.1.2 资源包体积均衡：多路复用同时完成请求

##### 2.3.1.3 精简代码，去掉无用代码

##### 2.3.1.4 动态图片尺寸

##### 2.3.1.5 动态prolyfill

##### 2.3.1.6 不常变动的资源单独打包，区分经常修改的代码与不常修改的代码

##### 2.3.1.67 区分机型打包资源分级

#### 2.3.2 流程优化

##### 2.3.2.1 配置缓存

##### 2.3.2.2 使用CDN

##### 2.3.2.3 协调资源加载优先级

##### 2.3.2.4 动态资源转静态

##### 2.3.2.5 脚本本地离线缓存

##### 2.3.2.6 资源懒加载

##### 2.3.2.7 模块代理

##### 2.3.2.8 资源预加载

##### 2.3.2.9 离线化加载

## 3.代码执行

### 3.1 执行减少

#### 3.1.1 减少自执行代码

#### 3.1.2 防抖节流

### 3.2 速度提升

#### 3.2.1 worker多线程加速

#### 3.2.2 wasm加速

### 3.3 流程优化

#### 3.3.1 延迟执行：非首屏模块滞后执行

#### 3.3.2 实例延迟初始化：配合peoxy优化代码流程

#### 3.3.3 长任务拆分+闲时执行

## 4.数据获取

### 4.1 内容优化

#### 4.1.1 减少请求：核心数据，请求合并

#### 4.1.2 减少数据转换

### 4.2 流程优化

#### 4.2.1 数据预取

#### 4.2.1 数据缓存

#### 4.2.1 延迟请求

#### 4.2.1 请求并行

## 5.绘制渲染

### 5.1 虚拟列表

### 5.2 延迟渲染

### 5.3 减少重绘重排

### 5.4 图片预加载内存

### 5.5. 快照缓存